--- work/cgsi-gsoap-1.1.5/Makefile.in	Mon Feb 21 19:18:46 2005
+++ work/cgsi-gsoap-1.1.5/Makefile.in.new	Wed Feb 23 10:12:52 2005
@@ -11,7 +11,7 @@
 CFLAGS = -Wall -g -fPIC
 LDFLAGS =
 RANLIB = ranlib
-SHLIBLDFLAGS = -shared
+SHLIBLDFLAGS = $(GARSHARED) $(OWN_LDFLAGS)
 SHLIBREQLIBS = -lc 
 
 ################################################################################
@@ -30,7 +30,7 @@
 ################################################################################
 ## compilation targets ##
 .PHONY: all
-all: libcgsi_plugin$(GSOAP_VERSION).a libcgsi_plugin$(GSOAP_VERSION).so 
+all: libcgsi_plugin$(GSOAP_VERSION).a libcgsi_plugin$(GSOAP_VERSION).$(GARLIBEXT)
 
 # dependencies
 cgsi_plugin.o: cgsi_plugin.h cgsi_plugin_int.h
@@ -39,7 +39,7 @@
 	$(AR) $(ARFLAGS) $@ $?
 	$(RANLIB) $@
 
-libcgsi_plugin$(GSOAP_VERSION).so: cgsi_plugin.o
+libcgsi_plugin$(GSOAP_VERSION).$(GARLIBEXT): cgsi_plugin.o
 	ld $(SHLIBLDFLAGS) -o $@ *.o $(SHLIBREQLIBS)
 
 ###############################################
@@ -60,7 +60,7 @@
 # insert space separated files to install (used for cleaning too) here
 BINFILES =
 LIBFILES =libcgsi_plugin$(GSOAP_VERSION).a
-SHLIBFILES =libcgsi_plugin$(GSOAP_VERSION).so
+SHLIBFILES =libcgsi_plugin$(GSOAP_VERSION).$(GARLIBEXT)
 INCFILES =cgsi_plugin.h
 MANFILES =
 
