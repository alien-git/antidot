--- work/tokenauthz-1.0.10/SealedEnvelope/perl/Makefile.PL.in.ori	2005-10-07 09:07:14.000000000 +0200
+++ work/tokenauthz-1.0.10/SealedEnvelope/perl/Makefile.PL.in	2005-10-07 09:07:56.000000000 +0200
@@ -1,11 +1,12 @@
 use ExtUtils::MakeMaker;
+use Config;
 WriteMakefile(
 	      'CC'                => 'g++',
 	      'LD'                => 'g++',
 	      'PERL'              => '@PERL@',
 	      'NAME'              => 'SealedEnvelope',
 	      'VERSION'           => '1.00',
-	      'OBJECT'            => 'SealedEnvelope_wrap.o ../.libs/libSealedEnvelope.so',
+	      'OBJECT'            => "SealedEnvelope_wrap.o ../.libs/libSealedEnvelope.$Config{so}",
 	      'INC'               => '-I /usr/kerberos/include -I $(PERLPREFIX)/include ',
 	      'DEFINE'            => '-D__SWIG__ -DPACKAGE_VERSION=\"1.0.1\"',
 	      );
--- work/tokenauthz-1.0.10/Makefile.am.ori	2005-10-07 09:38:01.000000000 +0200
+++ work/tokenauthz-1.0.10/Makefile.am	2005-10-07 09:38:21.000000000 +0200
@@ -23,7 +23,7 @@
 
 bin_PROGRAMS = tokenauthztest
 tokenauthztest_SOURCES = tokenauthztest.cxx
-tokenauthztest_LDADD = -lpthread libTokenAuthz.la
+tokenauthztest_LDADD = -lcrypto -lpthread libTokenAuthz.la
 
 
 EXTRA_DIST = conf/TkAuthz.Authorization.allow-all \
