--- work/MonaLisa.v1.6/ml_scripts.patch	1970-01-01 01:00:00.000000000 +0100
+++ work/MonaLisa.v1.6/ml_scripts.patch.new	2006-11-22 12:40:35.000000000 +0100
@@ -0,0 +1,69 @@
+--- MonaLisa.v1.6/Service/CMD/ML_SER	2006-11-22 12:23:56.000000000 +0100
++++ MonaLisa.v1.6/Service/CMD/ML_SER.new	2006-11-22 11:26:37.000000000 +0100
+@@ -19,6 +19,7 @@
+ PRGDIR=`dirname "$PRG"`
+ CONFDIR=${CONFDIR:=$PRGDIR}
+ COMMON_SH="${PRGDIR}/common.sh"
++ID_CMD="env LD_LIBRARY_PATH= id"
+ if [ ! -z "$2" ]; then
+  if [ "$2" == "from_su" ]; then
+    FROM_SU="$2"
+@@ -55,11 +56,11 @@
+ 
+ if [ -z "${MONALISA_USER}" ]; then
+      echo "Please set MONALISA_USER in ${ML_ENV_FILE}"
+-     echo "e.g MONALISA_USER=`id -u -n`"
++     echo "e.g MONALISA_USER=`$ID_CMD -u -n`"
+      exit 1
+ fi
+ 
+-cuser=`id -n -u`
++cuser=`$ID_CMD -n -u`
+ if [ "${cuser}" != "${MONALISA_USER}" ]; then
+         if [ "$FROM_SU" != "from_su" ]; then
+           echo "The current user ( ${cuser} ) != MONALISA_USER ( ${MONALISA_USER} ) (as set in ${ML_ENV_FILE} ) will try to su in ${MONALISA_USER}."
+@@ -263,7 +264,7 @@
+ start() {
+ 	common
+ 
+-	c_uid="`id -u -r`"
++	c_uid="`$ID_CMD -u -r`"
+ 	pid_cmd=`get_pid_cmd "$cmd_RE_update" $c_uid ""`
+ 	pupdate_pid=`/bin/sh -c "$pid_cmd"`
+ 	if [ ! -z "${pupdate_pid}" ]; then
+@@ -346,7 +347,7 @@
+ checkedStopEDB() {
+         common
+ 
+-        c_uid="`id -u -r`"
++        c_uid="`$ID_CMD -u -r`"
+         pid_cmd=`get_pid_cmd "$cmd_RE" $c_uid ""`
+         pupdate_pid=`/bin/sh -c "$pid_cmd"`
+         if [ -z "${pupdate_pid}" ]; then
+@@ -380,7 +381,7 @@
+ }
+ 
+ stop_mljvm() {
+-	c_uid="`id -u -r`"
++	c_uid="`$ID_CMD -u -r`"
+ 	ppid_cmd=`get_pid_cmd "${cmd_RE}" $c_uid 1`
+ 	pid_cmd=`get_pid_cmd "${cmd_RE}" $c_uid ""`
+ 	ppid=`/bin/sh -c "$ppid_cmd"`
+@@ -397,7 +398,7 @@
+     common; 
+     rm -f "${ML_PID_FILE}"
+ 	
+-	c_uid="`id -u -r`"
++	c_uid="`$ID_CMD -u -r`"
+ 	pupdate_pid_cmd=`get_pid_cmd "$cmd_RE_update" $c_uid ""`
+ 	pupdate_pid=`/bin/sh -c "$pupdate_pid_cmd"`
+ 	if [ ! -z "${pupdate_pid}" ]; then
+@@ -530,7 +531,7 @@
+ 
+ update(){
+     common
+-    c_uid="`id -u -r`"
++    c_uid="`$ID_CMD -u -r`"
+     pupdate_pid_cmd=`get_pid_cmd "$cmd_RE_update" $c_uid ""`
+     pupdate_pid=`/bin/sh -c "${pupdate_pid_cmd}"`
+                                                                                                                                                
